{"version":3,"file":"component---src-pages-index-js-dad22476107c556fccd6.js","mappings":"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","sources":["webpack://sytwc-gatsby-assignment/./src/templates/building/placeholder.js","webpack://sytwc-gatsby-assignment/./src/templates/user-score.js","webpack://sytwc-gatsby-assignment/./src/templates/building/card.js","webpack://sytwc-gatsby-assignment/./src/templates/building/card-with-score.js","webpack://sytwc-gatsby-assignment/./src/templates/building/building.js","webpack://sytwc-gatsby-assignment/./src/pages/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport '../../styles/building/placeholder.scss';\r\n\r\nconst Placeholder = ({children}) => {\r\n  return (\r\n    <div className=\"placeholder\">\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Placeholder\r\n","import * as React from 'react';\r\nimport '../styles/user-score.scss';\r\n\r\n// arrayElementWrapper and onScorePress are used to allow the parent\r\n// to sort any component that has this component.\r\nconst UserScore = ({arrayElementWrapper = { count: 0 },\r\n      onScorePress = () => {}}) => {\r\n  const [score, setScore] = React.useState(0);\r\n  const likeButton = React.useRef(null);\r\n  const dislikeButton = React.useRef(null);\r\n  const scoreSpan = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (score < 1) {\r\n      dislikeButton.current.disabled = true;\r\n    } else {\r\n      dislikeButton.current.disabled = false;\r\n    }\r\n\r\n    scoreSpan.current.textContent = `${score}`;\r\n  }, [score]);\r\n\r\n  const increaseScore = () => {\r\n    const NEW_SCORE = score + 1;\r\n    setScore(NEW_SCORE);\r\n    onScorePress(NEW_SCORE, arrayElementWrapper);\r\n  }\r\n  \r\n  const decreaseScore = () => {\r\n    if (score >= 1) {\r\n      const NEW_SCORE = score - 1;\r\n      setScore(NEW_SCORE);\r\n      onScorePress(NEW_SCORE, arrayElementWrapper);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span ref={scoreSpan}>0</span>\r\n      <button ref={likeButton} onClick={increaseScore}>Like</button>\r\n      <button ref={dislikeButton} onClick={decreaseScore}>Dislike</button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserScore\r\n","import * as React from 'react';\r\nimport '../../styles/building/card.scss';\r\n\r\nconst Card = ({footContent, children}) => {\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        <div className=\"card-main\">\r\n          {children}\r\n        </div>\r\n\r\n        <div className=\"card-foot\">\r\n          {footContent}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import * as React from 'react';\r\nimport UserScore from '../user-score';\r\nimport Card from './card';\r\n\r\n// arrayElementWrapper is a variable reference to the object\r\n// in the parent's content array. It has an \"element\" property\r\n// referencing this component and another property \"count\"\r\n// for sorting the arrayElementWrapper in the content array.\r\nconst CardWithScore = ({footContent, children, onScorePress,\r\n    arrayElementWrapper, score}) => {\r\n  return (\r\n    <Card footContent={(\r\n          <>\r\n            <UserScore onScorePress={onScorePress}\r\n                arrayElementWrapper={arrayElementWrapper}\r\n                score={score}></UserScore>\r\n            {footContent}\r\n          </>\r\n        )}>\r\n      {children}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default CardWithScore\r\n","import * as React from 'react';\r\nimport '../../styles/building/building.scss';\r\nimport Placeholder from './placeholder';\r\nimport CardWithScore from './card-with-score';\r\nimport { StaticImage } from 'gatsby-plugin-image';\r\n\r\nimport ReactDOMServer from 'react-dom/server'; \r\n\r\nimport goods from '../../../content/bienes.json';\r\n\r\nconst Building = ({amountOfPlaceholders = 0, children}) => {\r\n  const [allPlaceholderInfo, setAllPlaceholderInfo] = React.useState([]);\r\n\r\n  // meant for allowing content to implement a score. Content receives this as\r\n  // a prop.\r\n  const notifyScoreChange = (newScore, arrayElementWrapper) => {\r\n    arrayElementWrapper.count = newScore;\r\n    setAllPlaceholderInfo(oldValue => {\r\n          return [...oldValue.sort((a, b) => b.count - a.count)];\r\n        });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n        const createCardFromGood = (good, arrayElementWrapper, imageIndex) => (\r\n          <CardWithScore\r\n              onScorePress={notifyScoreChange}\r\n              arrayElementWrapper={arrayElementWrapper}>\r\n            <StaticImage src={`../images/bien${imageIndex}.png`}\r\n                alt={\"Foto del bien cultural.\"}/>\r\n            <h5>{good.nombre}</h5>\r\n            <p>{good.antecedentes}</p>\r\n            <p>Tipo: {good.tipo.arquitectura}</p>\r\n            <p>Época: {good.tipo.época}</p>\r\n            <p>Localización: {\r\n                  `lat ${good.localizacion.lat}, long: ${good.localizacion.long}`\r\n                }\r\n            </p>\r\n          </CardWithScore>\r\n        )\r\n        setAllPlaceholderInfo([\r\n              ...goods.bienes\r\n                  .map((bien, index) => {\r\n                    const elementWrapper = {\r\n                      count: 0,\r\n                    }\r\n                    elementWrapper.element =\r\n                        createCardFromGood(bien, elementWrapper, index + 1);\r\n                    return elementWrapper;\r\n                  }),\r\n              ...React.Children.toArray(children)\r\n                  .map(child => ({ count: 0, element: child }))\r\n            ]);\r\n      }, [children]);\r\n\r\n  return (\r\n    <div className=\"placeholders\">\r\n      {\r\n       allPlaceholderInfo\r\n            .reduce((allPlaceholder, info) => {\r\n                  console.log('iterated allPlaceholderInfo' + info.count);\r\n                  console.log(ReactDOMServer.renderToStaticMarkup(info.element));\r\n                  console.log();\r\n                      \r\n                  if (allPlaceholder.length < amountOfPlaceholders) {\r\n                    const KEY = `placeholder-${allPlaceholder.length}`;\r\n                    allPlaceholder.push((\r\n                          <Placeholder key={KEY}>{info.element}</Placeholder>\r\n                        ));\r\n                  }\r\n                  return allPlaceholder;\r\n                }, [])\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Building\r\n","import * as React from 'react';\nimport PageBodyAdvanced from '../templates/pagebody-advanced';\nimport Building from '../templates/building/building';\nimport Card from '../templates/building/card';\nimport UserScore from '../templates/user-score';\n\nconst IndexPage = () => {\n  return (\n    <>\n      <PageBodyAdvanced>\n        <Building amountOfPlaceholders={5}>\n          <Card><p>some card</p></Card>\n          <Card footContent={<UserScore></UserScore>}><span>somethhing</span></Card>\n        </Building>\n      </PageBodyAdvanced>\n    </>\n  )\n}\n\nexport const Head = () => <title>Página principal</title>\n\nexport default IndexPage\n"],"names":["_ref","children","React","className","arrayElementWrapper","count","onScorePress","score","setScore","likeButton","dislikeButton","scoreSpan","current","disabled","textContent","ref","onClick","increaseScore","NEW_SCORE","decreaseScore","footContent","Card","UserScore","amountOfPlaceholders","allPlaceholderInfo","setAllPlaceholderInfo","notifyScoreChange","newScore","oldValue","_toConsumableArray","sort","a","b","concat","goods","map","bien","index","elementWrapper","createCardFromGood","good","imageIndex","element","CardWithScore","StaticImage","src","alt","__error","nombre","antecedentes","tipo","arquitectura","época","localizacion","lat","long","toArray","child","reduce","allPlaceholder","info","console","log","ReactDOMServer","length","KEY","push","Placeholder","key","Head","IndexPage","PageBodyAdvanced","Building"],"sourceRoot":""}
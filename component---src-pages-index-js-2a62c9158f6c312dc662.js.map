{"version":3,"file":"component---src-pages-index-js-2a62c9158f6c312dc662.js","mappings":"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","sources":["webpack://sytwc-gatsby-assignment/./src/templates/building/placeholder.js","webpack://sytwc-gatsby-assignment/./src/templates/user-score.js","webpack://sytwc-gatsby-assignment/./src/templates/building/card.js","webpack://sytwc-gatsby-assignment/./src/templates/building/card-with-score.js","webpack://sytwc-gatsby-assignment/./src/templates/building/building.js","webpack://sytwc-gatsby-assignment/./src/templates/building/building_with_api.js","webpack://sytwc-gatsby-assignment/./src/templates/structure/content-and-sidebar.js","webpack://sytwc-gatsby-assignment/./src/pages/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport '../../styles/building/placeholder.scss';\r\n\r\nconst Placeholder = ({children}) => {\r\n  return (\r\n    <div className=\"placeholder\">\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Placeholder\r\n","import * as React from 'react';\r\nimport '../styles/user-score.scss';\r\n\r\n// index and onScorePress are used to allow the parent\r\n// to sort any component that has this component.\r\nconst UserScore = ({score, onIncreaseScore, onDecreaseScore}) => {\r\n  const likeButton = React.useRef(null);\r\n  const dislikeButton = React.useRef(null);\r\n  const scoreSpan = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n        if (score < 1) {\r\n          dislikeButton.current.disabled = true;\r\n        } else {\r\n          dislikeButton.current.disabled = false;\r\n        }\r\n\r\n        scoreSpan.current.textContent = `${score}`;\r\n      }, [score]);\r\n\r\n  return (\r\n    <>\r\n      <span ref={scoreSpan}>{score}</span>\r\n      <button ref={likeButton} onClick={onIncreaseScore}>Like</button>\r\n      <button ref={dislikeButton} onClick={onDecreaseScore}>Dislike</button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserScore\r\n","import * as React from 'react';\r\nimport '../../styles/building/card.scss';\r\n\r\nconst Card = ({footContent, children}) => {\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        <div className=\"card-main\">\r\n          {children}\r\n        </div>\r\n\r\n        <div className=\"card-foot\">\r\n          {footContent}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import * as React from 'react';\r\nimport UserScore from '../user-score';\r\nimport Card from './card';\r\n\r\nconst CardWithScore = ({footContent, children, onIncreaseScore, onDecreaseScore,\r\n    index, score = 0}) => {\r\n  return (\r\n    <Card footContent={(\r\n          <>\r\n            <UserScore onIncreaseScore={() => onIncreaseScore(index)}\r\n                onDecreaseScore={() => onDecreaseScore(index)}\r\n                score={score}/>\r\n            {footContent}\r\n          </>\r\n        )}>\r\n      {children}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default CardWithScore\r\n","import * as React from 'react';\r\nimport '../../styles/building/building.scss';\r\nimport Placeholder from './placeholder';\r\nimport CardWithScore from './card-with-score';\r\n\r\nconst Building = ({amountOfPlaceholders = 0, content = [],\r\n      contentTransform = () => {}}) => {\r\n  const [allScore, setAllScore] =\r\n      React.useState(new Array(content.length).fill(0));\r\n  const [allContent, setAllContent] =\r\n      React.useState(content.map(contentTransform));\r\n\r\n  return (\r\n    <div className=\"placeholders\">\r\n      {\r\n       allContent.reduce((allPlaceholder, content, index) => {\r\n          if (allPlaceholder.length < amountOfPlaceholders) {\r\n            const sort = () => {\r\n              const allCombined =\r\n                  allScore.map((score, index) => {\r\n                        return {\r\n                            score,\r\n                            element: allContent[index],\r\n                          }\r\n                      });\r\n              const allSorted =\r\n                  [...allCombined.sort((a, b) => b.score - a.score)];\r\n              setAllContent([...allSorted.map(_ => _.element)]);\r\n              setAllScore([...allSorted.map(_ => _.score)]);\r\n            }\r\n\r\n            const increaseScore = (index) => {\r\n              allScore[index]++;\r\n              sort();\r\n            }\r\n\r\n            const decreaseScore = (index) => {\r\n              if (allScore[index] >= 1) {\r\n                allScore[index]--;\r\n                sort();\r\n              }\r\n            }\r\n\r\n            allPlaceholder.push((\r\n                <Placeholder\r\n                    key={`placeholder-${allPlaceholder.length}`}>\r\n                  <CardWithScore\r\n                      onIncreaseScore={increaseScore}\r\n                      onDecreaseScore={decreaseScore}\r\n                      index={index}\r\n                      score={allScore[index]}>\r\n                    {content}\r\n                  </CardWithScore>\r\n                </Placeholder>\r\n              ));\r\n          }\r\n          return allPlaceholder;\r\n        }, [])\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Building\r\n","import * as React from 'react';\r\n\r\nimport { useStaticQuery, graphql } from 'gatsby';\r\n\r\nimport Building from './building';\r\n\r\nconst BuildingWithAPI = ({amountOfPlaceholders = 0}) => {\r\n  const data = useStaticQuery(graphql`\r\n        query {\r\n          allRecords {\r\n            nodes {\r\n              title\r\n              body\r\n            }\r\n          }\r\n        }\r\n      `);\r\n\r\n  const contentTransform = (content) => {\r\n        return (\r\n          <>\r\n            <h3>{content.title}</h3>\r\n            <p>{content.body}</p>\r\n          </>\r\n        )\r\n      }\r\n\r\n  return (\r\n      <Building amountOfPlaceholders={amountOfPlaceholders}\r\n          contentTransform={contentTransform}\r\n          content={data.allRecords.nodes}/>\r\n    )\r\n}\r\n\r\nexport default BuildingWithAPI\r\n","import * as React from 'react';\r\nimport '../../styles/structure/content-and-sidebar.scss'\r\n\r\nconst ContentAndSidebar = ({sidebarContent, children}) => {\r\n  return (\r\n    <div className='contentAndSidebar'>\r\n      <div className='content'>\r\n        {children}\r\n      </div>\r\n      <div className='sidebar'>\r\n        {sidebarContent}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContentAndSidebar\r\n","import * as React from 'react';\n\nimport NavAndMainWithMenu from '../templates/structure/nav-and-main-with-menu';\nimport Building from '../templates/building/building';\nimport BuildingWithAPI from '../templates/building/building_with_api';\nimport ContentAndSidebar from '../templates/structure/content-and-sidebar';\n\nimport goods from '../../content/bienes.json';\n\nconst IndexPage = () => {\n  const contentTransform = (bien) => {\n      return (\n          <>\n            <h3>{bien.nombre}</h3>\n            <p>{bien.antecedentes}</p>\n            <p>Tipo: {bien.tipo.arquitectura}</p>\n            <p>Época: {bien.tipo.época}</p>\n            <p>Localización: {\n                  `lat ${bien.localizacion.lat}, long: ${bien.localizacion.long}`\n                }\n            </p>\n          </>\n        )\n      }\n  return (\n    <NavAndMainWithMenu>\n      <h1>Usos del componente edificio</h1>\n\n      <ContentAndSidebar\n          sidebarContent={\n            <div className=\"formdiv\">\n              <h3>Subscribirse al boletin</h3>\n              <form>\n                <label className=\"row\" htmlFor=\"name\">Nombre</label>\n                <input className=\"row\" type=\"text\" id=\"name\" name=\"name\" required/>\n        \n                <label className=\"row\" htmlFor=\"email\">Email</label>\n                <input className=\"row\" type=\"email\" id=\"email\" name=\"email\" required/>\n        \n                <input className=\"row\" type=\"button\" value=\"Submit\" onClick={() => alert('called')}/>\n              </form>\n            </div>\n          }>\n\n        <h2>Con datos obtenidos de archivo .json</h2>\n        <Building amountOfPlaceholders={5} content={goods.bienes}\n            contentTransform={contentTransform}/>\n      </ContentAndSidebar>\n\n      <div className=\"feature\">\n        <h2>Con datos de API</h2>\n        <BuildingWithAPI amountOfPlaceholders={12}></BuildingWithAPI>\n      </div>\n    </NavAndMainWithMenu>\n  )\n}\n\nexport const Head = () => <title>Página principal</title>\n\nexport default IndexPage\n"],"names":["_ref","children","React","className","score","onIncreaseScore","onDecreaseScore","likeButton","dislikeButton","scoreSpan","current","disabled","textContent","ref","onClick","footContent","index","Card","UserScore","amountOfPlaceholders","content","contentTransform","allScore","setAllScore","Array","length","fill","allContent","setAllContent","map","reduce","allPlaceholder","sort","allCombined","element","allSorted","_toConsumableArray","a","b","_","increaseScore","decreaseScore","push","Placeholder","key","CardWithScore","data","useStaticQuery","Building","title","body","allRecords","nodes","sidebarContent","Head","IndexPage","NavAndMainWithMenu","ContentAndSidebar","htmlFor","type","id","name","required","value","alert","goods","bien","nombre","antecedentes","tipo","arquitectura","época","localizacion","lat","long","BuildingWithAPI"],"sourceRoot":""}